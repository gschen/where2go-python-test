summary: demo
id: 20200223-01-å´æ€¡è¾°
categories: wechat
tags: 
status: Published 
authors: å´æ€¡è¾°
Feedback Link: http://www.sctu.edu.cn
# ä¸Šä¸‹æ»šåŠ¨é¡µé¢å®ç°
## æ¡ˆä¾‹æè¿°
å°ç¨‹åºä¸­ï¼Œé¡µé¢çš„å‘ˆç°æ–¹å¼éå¸¸å¤šæ ·ï¼Œè¦ä½¿é¡µé¢ä¸åªæ˜¯å•ä¸€çš„ä¸€ä¸ªé¡µé¢ï¼Œè€Œè¦å®ç°åœ¨å½“å‰é¡µé¢çš„è‡ªç”±ä¸Šä¸‹æ»šåŠ¨ï¼Œä¸”ä¸Šä¸‹æ»šåŠ¨å‘ˆç°å‡ºæ¯ä¸ªä¸åŒæ»šåŠ¨é¡µé¢çš„å½¢å¼ï¼Œè¯¥æ€æ ·å®ç°å‘¢ï¼Ÿ
## æ•ˆæœå›¾
![](assets/20200223-01-å´æ€¡è¾°-1.jpg)
![](assets/20200223-01-å´æ€¡è¾°-2.jpg)
## å®ç°æ­¥éª¤
### wxmlé¡µé¢å®ç°
å°†æ¯ä¸€ä¸ªä¸åŒçš„é¡µé¢è¿›è¡Œå•ç‹¬ä¸”ç›¸ä¼¼çš„wxmlä»£ç ç¼–å†™ï¼Œæ¯ä¸ªé¡µé¢æ”¾å…¥ä¸€ä¸ªæ•´ä½“çš„viewä¸­ï¼Œè®¾ç½®bindäº‹ä»¶ç»‘å®šï¼Œscrollç»„ä»¶å®ç°æ»šåŠ¨äº‹ä»¶ã€‚scrollTouchStartâ€”â€”æ»šåŠ¨é¡µé¢èµ·å§‹ï¼ŒscrollTouchEndâ€”â€”æ»šåŠ¨é¡µé¢ç»“æŸï¼ŒscrollTouchMoveâ€”â€”æ»šåŠ¨çš„è¿‡ç¨‹ã€‚ä»£ç å¦‚ä¸‹ï¼š
```
<view id='hook1' class="section section01 {{scrollindex==0?'active':''}}" style='background:lightyellow' bindtouchstart="scrollTouchStart" bindtouchmove='scrollTouchMove' bindtouchend="scrollTouchEnd">
  <view class='cont'>
    <view class='cont-body'>
      <view>
      <image class="pic" src="/images/img1.jpg"></image>
      </view>
      <view>â€œæ„¿ç”Ÿæ´»é‡Œæœ‰çƒ­æ±¤å’Œç”œé£Ÿï¼ŒèƒŒåŒ…é‡Œæœ‰ä¹¦ç±å’Œçº¸ç¬”ã€‚ä¹¦é‡Œæ•…äº‹å¦‚è¿·å®«ï¼Œè¿·å®«é€šå‘æµ·ã€‚æ²Ÿé€šä½¿è¯¯è§£æ¶ˆé™¤ï¼Œäººè‡ªå……æ»¡å–„æ„ã€‚èµ°å¾ˆè¿œçš„è·¯å›å®¶ï¼Œæ··æ²Œä¸­ç”Ÿæ´»å‡ºæ–°çš„è‡ªå·±ã€‚ğŸ’ªâ€
      </view>
    </view>
  </view>
</view>
```
### wxssé…ç½®
è®©æ¯ä¸ªé¡µé¢å‘ˆç°ç‹¬ç«‹æ€§ï¼Œéœ€è¦å°†é¡µé¢è®¾ç½®height:100%;å¯¹æ¯ä¸ªé¡µé¢è®¾ç½®ä¸€ä¸ªpositionå®šä½å±æ€§ä¸ºrelativeï¼Œä½¿æ¯ä¸ªé¡µé¢çš„å†…å®¹éƒ½èƒ½å¤Ÿåœ¨å•ç‹¬é¡µé¢å‘ˆç°ã€‚ä»£ç å¦‚ä¸‹ï¼š
```
.scroll-fullpage {
  height: 100%;
}
.section {
  height: 100%;
}
.cont {
  width: 100%;
  height: 100%;
  margin: 0 auto;
  position: relative;
}
.cont-body {
  width: 75%;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

.pic{
   height: 130rpx;
   width: 130rpx;
   border-radius: 50%
}
```
### jsé…ç½®
dateæ•°æ®çš„é…ç½®å’ŒscrollTouchStartã€scrollTouchMoveã€scrollTouchEndä¸‰ä¸ªäº‹ä»¶å‡½æ•°è¿›è¡Œé…ç½®ã€‚
ä»£ç å¦‚ä¸‹ï¼š
```
  data: {
    scrollindex: 0, 
    totalnum: 4,
    starty: 0, 
    startTime: 0,
    endy: 0, 
    endTime: 0,
    critical: 80, 
    maxTimeCritical: 300, 
    minTimeCritical: 100, 
    margintop: 0,
    currentTarget: null,
  },
```
```
 scrollTouchStart: function (e) {
    let py = e.touches[0].pageY,
      stamp = e.timeStamp,
      currentTarget = e.currentTarget.id;
    console.log(py);
    this.setData({
      starty: py,
      startTime: stamp,
      currentTarget: currentTarget
    })
  },
  scrollTouchMove(e) {
    // console.log(e);
  },
  scrollTouchEnd: function (e) {
    let py = e.changedTouches[0].pageY,
      stamp = e.timeStamp,
      d = this.data,
      timeStampdiffer = stamp - d.startTime;
    this.setData({
      endy: py,
      endTime: stamp
    })
```
## æ€»ç»“
åœ¨é…ç½®ä¸€ä¸ªæ»šåŠ¨é¡µé¢æ—¶ï¼Œæ³¨æ„å¯¹é¡µé¢æ•´ä½“æ€§å’Œæ¯ä¸ªæ»šåŠ¨é¡µé¢ç‹¬ç«‹æ€§çš„å®ç°ã€‚æ³¨æ„ç»‘å®šäº‹ä»¶ï¼Œè°ƒç”¨scrollç»„ä»¶ã€‚